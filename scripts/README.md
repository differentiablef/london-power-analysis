
# Utility Scripts

## 'download-dataset.sh'

Downloads zipped power usage data from http://data.london.gov.uk/ int the "raw" directory. Once downloaded, extracts the contents of the archive; renaming the resulting file to './raw/power-survey-london.csv'.

(assumes 'unzip' is installed; which might not be the case for some msys2 installations)

## 'separate-dataset.sh'

Attempts to separate the contents of the file './raw/power-survey-london.csv' (~10GB) into managable chunks. It does this by breaking up the raw datafile into separate files; each of the separate files consists of the records for a particular month and year (and about ~500MB each.)
In addition, it compresses (bzip2) the separated files; readying them for upload to github.

(assumes './scripts/download-dataset.sh' has been run.)

## 'clean-dataset.py'

Loads each of the compressed chunks generated by 'separate-dataset.sh' and processes them into a usable form. In particular, for each chunk, it generates a 'csv' file with the same basename in the './data/' directory, containing rows indexed by date/time. Each row contains columns (conditioned on ACORN group) which correspond to total power demand, standard deviation and number of readings.

(assumes './scripts/separate-dataset.sh' has been run.) 

## 'generate-completes.py'

Combines the output of 'clean-dataset.py' into files containing complete records for relavent years; and one file which contains all information for all years being considered. 

## 'clean-weather-data.py'

Loads the raw weather data stored in './raw/openweather-london-2013.json', converts the temperature units to fahrenheit and extracts records with 'valid' reading. Stores the results in the file './data/openweather-london-2013.csv'.

## 'extract-plots.py'

